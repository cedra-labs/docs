"use strict";(self.webpackChunkcedra_docs=self.webpackChunkcedra_docs||[]).push([[2462],{1472:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"nodes/full-node","title":"Running a Cedra Full Node","description":"This guide walks you through setting up and running a Cedra full node to help distribute blockchain data and provide API access to the network. Full nodes are essential infrastructure that enable wallets, explorers, and dApps to interact with the Cedra blockchain.","source":"@site/docs/nodes/full-node.md","sourceDirName":"nodes","slug":"/nodes/full-node","permalink":"/nodes/full-node","draft":false,"unlisted":false,"editUrl":"https://github.com/cedra-labs/docs/edit/main/docs/nodes/full-node.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Delegation Pool Management","permalink":"/nodes/delegation-pool-setup"},"next":{"title":"CLI Reference","permalink":"/cli/usage"}}');var r=o(4848),i=o(8453);const s={},l="Running a Cedra Full Node",a={},d=[{value:"Why Run a Full Node?",id:"why-run-a-full-node",level:2},{value:"Prepare Your Node Environment",id:"prepare-your-node-environment",level:2},{value:"Clone the Cedra Network Repository",id:"clone-the-cedra-network-repository",level:4},{value:"Create the Node Directory",id:"create-the-node-directory",level:4},{value:"Download Network Genesis Files",id:"download-network-genesis-files",level:3},{value:"Create Your Full Node Configuration",id:"create-your-full-node-configuration",level:2},{value:"Launch Your Full Node",id:"launch-your-full-node",level:2},{value:"Monitor Synchronization Progress",id:"monitor-synchronization-progress",level:3},{value:"Verify Your Full Node Operation",id:"verify-your-full-node-operation",level:2},{value:"Check Sync Status",id:"check-sync-status",level:4},{value:"Test API Endpoints",id:"test-api-endpoints",level:4},{value:"Monitor and Maintain Your Full Node",id:"monitor-and-maintain-your-full-node",level:2},{value:"Monitor Node Health",id:"monitor-node-health",level:3},{value:"Your Full Node Journey Complete!",id:"your-full-node-journey-complete",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"running-a-cedra-full-node",children:"Running a Cedra Full Node"})}),"\n",(0,r.jsx)(n.p,{children:"This guide walks you through setting up and running a Cedra full node to help distribute blockchain data and provide API access to the network. Full nodes are essential infrastructure that enable wallets, explorers, and dApps to interact with the Cedra blockchain."}),"\n",(0,r.jsxs)(n.admonition,{title:"Prerequisites",type:"info",children:[(0,r.jsx)(n.p,{children:"Before proceeding, ensure you have:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Installed the ",(0,r.jsx)(n.a,{href:"/nodes/cedra-node",children:"Cedra Node binary"})]}),"\n",(0,r.jsxs)(n.li,{children:["Met the ",(0,r.jsx)(n.a,{href:"/nodes/requirements",children:"system requirements"})," for running a full node"]}),"\n"]})]}),"\n",(0,r.jsx)(n.h2,{id:"why-run-a-full-node",children:"Why Run a Full Node?"}),"\n",(0,r.jsx)(n.p,{children:"Full nodes ensure that blockchain data remains widely accessible and the network stays resilient against failures or censorship attempts."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"For the Network:"}),"\nRunning a full node strengthens the entire Cedra ecosystem. Each additional node increases the network's redundancy and makes it harder for any single entity to control or manipulate blockchain data."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"For Developers:"}),"\nA local full node transforms your development experience by providing unrestricted access to blockchain data without the constraints of public endpoints. Instead of dealing with rate limits, network latency, or API quotas, you have direct access to the entire blockchain state on your own hardware."]}),"\n",(0,r.jsx)(n.h2,{id:"prepare-your-node-environment",children:"Prepare Your Node Environment"}),"\n",(0,r.jsx)(n.p,{children:"Your full node needs a workspace to store configuration files and blockchain data. Let's set up the directory structure."}),"\n",(0,r.jsx)(n.h4,{id:"clone-the-cedra-network-repository",children:"Clone the Cedra Network Repository"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Clone the official repository\ngit clone https://github.com/cedra-labs/cedra-network.git\ncd cedra-network\n\n# Switch to the testnet branch\ngit checkout testnet\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," You're obtaining the Cedra Network repository which contains essential configuration examples and tools for running nodes."]}),"\n",(0,r.jsx)(n.h4,{id:"create-the-node-directory",children:"Create the Node Directory"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create the main network directory in the repository root\nmkdir net\ncd net\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," The ",(0,r.jsx)(n.code,{children:"net"})," directory will be your full node's workspace, containing all configuration files, genesis data, and the blockchain database."]}),"\n",(0,r.jsx)(n.h3,{id:"download-network-genesis-files",children:"Download Network Genesis Files"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Download the genesis blob (initial network state)\nwget https://github.com/cedra-labs/cedra-networks/raw/main/testnet/genesis.blob\n\n# Download the waypoint (trusted synchronization checkpoint)\nwget https://github.com/cedra-labs/cedra-networks/raw/main/testnet/waypoint.txt\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," These files ensure your full node:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Starts with the correct network state (genesis.blob)"}),"\n",(0,r.jsx)(n.li,{children:"Can verify it's connecting to the legitimate Cedra testnet (waypoint.txt)"}),"\n",(0,r.jsx)(n.li,{children:"Has a trusted checkpoint for fast synchronization"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"File Verification",type:"caution",children:(0,r.jsx)(n.p,{children:"Always download genesis files from the official Cedra Networks repository to avoid connecting to malicious networks."})}),"\n",(0,r.jsx)(n.h2,{id:"create-your-full-node-configuration",children:"Create Your Full Node Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Now we'll create the configuration file ",(0,r.jsx)(n.code,{children:"fullnode.yaml"})," that defines how your full node operates."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create fullnode.yaml with the full node configuration\ncat > fullnode.yaml << \'EOF\'\nbase:\n    # Directory where the node stores its database\n    data_dir: "public-node-data"\n    role: "full_node"\n    waypoint:\n        # References the waypoint file for trusted synchronization\n        from_file: "waypoint.txt"\n\nexecution:\n    # Location of the genesis blob file\n    genesis_file_location: "genesis.blob"\n\nfull_node_networks:\n    # Public network configuration\n  - listen_address: "/ip4/0.0.0.0/tcp/6176"\n    discovery_method: "onchain"\n    network_id: "public"\n\nadmin_service:\n  port: 9107\n\ninspection_service:\n  port: 9108\n\napi:\n    enabled: true\n    address: 127.0.0.1:8081\n\nstorage:\n    backup_service_address: "0.0.0.0:6187"\n    enable_indexer: false\n    # Storage pruning configuration to manage disk usage\n    storage_pruner_config:\n        ledger_pruner_config:\n            enable: true\nEOF\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," This configuration sets up your full node with:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data storage"}),": Local directory for blockchain data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Network settings"}),": Port 6176 for peer connections"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API service"}),": REST API on port 8081 for client requests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Admin services"}),": Monitoring and inspection endpoints"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Storage pruning"}),": Automatic cleanup of old data to manage disk space"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"launch-your-full-node",children:"Launch Your Full Node"}),"\n",(0,r.jsx)(n.p,{children:"With all configurations in place, it's time to start your full node and begin synchronizing with the network.\nLet's start the Node"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Launch the full node with your configuration\n./cedra-node --config fullnode.yaml\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," Your full node is now:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connecting to the Cedra testnet through peer discovery"}),"\n",(0,r.jsx)(n.li,{children:"Downloading and verifying blockchain data from other nodes"}),"\n",(0,r.jsx)(n.li,{children:"Building its local database of the blockchain state"}),"\n",(0,r.jsx)(n.li,{children:"Preparing to serve API requests once synchronized"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Initial Synchronization",type:"info",children:(0,r.jsx)(n.p,{children:"The first sync can take several hours depending on your internet speed and the current blockchain size. You'll see log messages indicating sync progress."})}),"\n",(0,r.jsx)(n.h3,{id:"monitor-synchronization-progress",children:"Monitor Synchronization Progress"}),"\n",(0,r.jsx)(n.p,{children:"Open a new terminal to check your node's status:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check if your node is running and syncing\ncurl http://localhost:8081/v1\n"})}),"\n",(0,r.jsx)(n.p,{children:"Look for these key indicators:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"ledger_version"'})," - Should be increasing (shows sync progress)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"block_height"'})," - Current block number"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"node_role"'}),' - Should show "full_node"']}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"verify-your-full-node-operation",children:"Verify Your Full Node Operation"}),"\n",(0,r.jsx)(n.p,{children:"Once your node has synchronized with the network, verify it's functioning correctly."}),"\n",(0,r.jsx)(n.h4,{id:"check-sync-status",children:"Check Sync Status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Compare your node\'s state with the public testnet\necho "Your node:"\ncurl -s http://localhost:8081/v1\n\necho "Testnet:"\ncurl -s https://testnet.cedra.dev/v1\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What to look for:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The ledger versions should be close"}),"\n",(0,r.jsx)(n.li,{children:"Your node's ledger_version should be constantly increasing"}),"\n",(0,r.jsx)(n.li,{children:"Once caught up, your node stays synchronized with testnet"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"test-api-endpoints",children:"Test API Endpoints"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Get validator set information\ncurl -s "http://localhost:8081/v1/accounts/0x1/resource/0x1::stake::ValidatorSet"\n\n# Query an account balance (example)\ncurl -s "http://localhost:8081/v1/accounts/0x1/resource/0x1::coin::CoinInfo<0x1::cedra_coin::CedraCoin>"\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"Node Successfully Running",type:"success",children:(0,r.jsxs)(n.p,{children:["If you see the ledger_version changing in your browser at ",(0,r.jsx)(n.a,{href:"http://localhost:8081/v1",children:"http://localhost:8081/v1"})," and API queries returning data, congratulations! Your full node is successfully running and serving blockchain data."]})}),"\n",(0,r.jsx)(n.h2,{id:"monitor-and-maintain-your-full-node",children:"Monitor and Maintain Your Full Node"}),"\n",(0,r.jsx)(n.p,{children:"Keep your full node healthy and up-to-date with these monitoring and maintenance practices."}),"\n",(0,r.jsx)(n.h3,{id:"monitor-node-health",children:"Monitor Node Health"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check node metrics\ncurl http://localhost:9108/metrics\n\n# Check disk space regularly\ndf -h public-node-data/\n"})}),"\n",(0,r.jsx)(n.h2,{id:"your-full-node-journey-complete",children:"Your Full Node Journey Complete!"}),"\n",(0,r.jsx)(n.p,{children:"Congratulations! You've successfully:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Set up the Cedra node environment"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Downloaded and verified genesis files"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Configured your full node settings"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Launched and synchronized your node"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Verified API functionality"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Now that your full node is running:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Integrate Applications"}),": Use your node's API endpoint for dApp development"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consider Validating"}),": If interested, explore ",(0,r.jsx)(n.a,{href:"/nodes/validator-setup",children:"becoming a validator"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Join the Community"}),": Share your experience and help other node operators"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>l});var t=o(6540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);