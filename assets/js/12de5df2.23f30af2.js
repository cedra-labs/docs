"use strict";(self.webpackChunkcedra_docs=self.webpackChunkcedra_docs||[]).push([[1540],{8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var s=r(6540);const a={},i=s.createContext(a);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(i.Provider,{value:n},e.children)}},8579:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"move-package-management","title":"Move Package Management","description":"Learn how to create, compile, and deploy Move packages on Cedra. Start with the quick guide for immediate results, then explore detailed explanations below.","source":"@site/docs/move-package-management.md","sourceDirName":".","slug":"/move-package-management","permalink":"/move-package-management","draft":false,"unlisted":false,"editUrl":"https://github.com/cedra-labs/docs/edit/main/docs/move-package-management.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\ud83d\uddf3\ufe0f Governance Process","permalink":"/gas-tokens/governance"},"next":{"title":"\ud83d\udd04 Package Upgrades","permalink":"/move-package-upgrades"}}');var a=r(4848),i=r(8453);const t={},c="Move Package Management",d={},o=[{value:"Package Structure",id:"package-structure",level:3},{value:"Configuring Move.toml",id:"configuring-movetoml",level:3},{value:"Address Parameterization",id:"address-parameterization",level:3},{value:"Package Dependencies",id:"package-dependencies",level:3},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"move-package-management",children:"Move Package Management"})}),"\n",(0,a.jsx)(n.p,{children:"Learn how to create, compile, and deploy Move packages on Cedra. Start with the quick guide for immediate results, then explore detailed explanations below."}),"\n",(0,a.jsxs)(n.admonition,{title:"Prerequisites",type:"tip",children:[(0,a.jsx)(n.p,{children:"Before starting, ensure you have:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\u2705 ",(0,a.jsx)(n.a,{href:"/getting-started/cli",children:"Cedra CLI installed"})]}),"\n",(0,a.jsxs)(n.li,{children:["\u2705 ",(0,a.jsx)(n.a,{href:"/cli/usage#1-initial-configuration",children:"A configured Cedra account"})]}),"\n"]})]}),"\n",(0,a.jsxs)("div",{className:"flow-steps",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"1"})," \xa0 ",(0,a.jsx)(n.strong,{children:"Initialize your package"})]}),(0,a.jsx)(n.p,{children:"Create a new Move package with the required directory structure:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cedra move init --name my_project\n"})}),(0,a.jsxs)(n.p,{children:["This creates ",(0,a.jsx)(n.code,{children:"Move.toml"}),", ",(0,a.jsx)(n.code,{children:"sources/"}),", and ",(0,a.jsx)(n.code,{children:"tests/"})," directories. Add your modules to ",(0,a.jsx)(n.code,{children:"sources/"})," - see ",(0,a.jsx)(n.a,{href:"/getting-started/tx",children:"First Transaction Guide"})," for module examples."]})]}),(0,a.jsx)(n.hr,{}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"2"})," \xa0 ",(0,a.jsx)(n.strong,{children:"Compile your code"})]}),(0,a.jsx)(n.p,{children:"Compile your Move code with named addresses:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Replace ",(0,a.jsx)(n.code,{children:"my_project"})," with your address name from Move.toml"]}),"\n",(0,a.jsxs)(n.li,{children:["Use ",(0,a.jsx)(n.code,{children:"default"})," to deploy to your current account"]}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cedra move compile --named-addresses my_project=default\n"})})]}),(0,a.jsx)(n.hr,{}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"3"})," \xa0 ",(0,a.jsx)(n.strong,{children:"Deploy to blockchain"})]}),(0,a.jsx)(n.p,{children:"Deploy the compiled package to Cedra:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cedra move publish --named-addresses my_project=default\n"})}),(0,a.jsx)(n.p,{children:"The CLI will simulate first, then ask for confirmation. After deployment, save the transaction hash."}),(0,a.jsx)("br",{}),(0,a.jsxs)(n.p,{children:["\u2705 ",(0,a.jsx)(n.strong,{children:"Done!"})," Your module is now live on-chain."]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,a.jsxs)(n.p,{children:["When you run ",(0,a.jsx)(n.code,{children:"cedra move init"}),", it creates:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"my_project/\n\u251c\u2500\u2500 Move.toml          # Package configuration\n\u251c\u2500\u2500 sources/           # Your Move modules\n\u251c\u2500\u2500 scripts/           # Transaction scripts (optional)\n\u2514\u2500\u2500 tests/             # Test modules\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"sources/"})})," - Contains your Move modules (smart contracts)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"Move.toml"})})," - Package manifest with dependencies and configuration"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"scripts/"})})," - Optional transaction scripts for complex operations"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"tests/"})})," - Test modules with ",(0,a.jsx)(n.code,{children:"#[test]"})," functions"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"configuring-movetoml",children:"Configuring Move.toml"}),"\n",(0,a.jsxs)(n.p,{children:["A complete ",(0,a.jsx)(n.code,{children:"Move.toml"})," configuration:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-toml",children:'[package]\nname = "MyProject"\nversion = "1.0.0"\nupgrade_policy = "compatible"\n\n[dependencies]\nCedraFramework = {\n    git = "https://github.com/cedra-labs/cedra-framework.git",\n    subdir = "cedra-framework",\n    rev = "mainnet"\n}\n\n[addresses]\nmy_project = "_"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"address-parameterization",children:"Address Parameterization"}),"\n",(0,a.jsx)(n.p,{children:"Named addresses allow flexible deployment without hardcoding. Benefits:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Deploy the same code to different addresses"}),"\n",(0,a.jsx)(n.li,{children:"Keep real addresses out of public repos"}),"\n",(0,a.jsx)(n.li,{children:"Use different addresses for test vs production"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Configuration options:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-toml",children:'[addresses]\n# Option 1: Placeholder (most flexible)\nmy_project = "_"\n\n# Option 2: Hardcoded address\nmy_project = "0xCAFE"\n\n# Option 3: Use current account\nmy_project = "default"\n\n# Option 4: Multiple addresses\nmy_project = "_"\nhelper_module = "0x123"\nshared_lib = "0x456"\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"How addresses map to code:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-rust",children:'// If my_project = "0xCAFE" in Move.toml\nmodule my_project::token {\n    // This module will be deployed at 0xCAFE::token\n}\n\nmodule my_project::marketplace {\n    // This will be at 0xCAFE::marketplace\n    use my_project::token; // Internal reference\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The named address acts as an alias - the compiler replaces ",(0,a.jsx)(n.code,{children:"my_project"})," with the actual address at compile time."]}),"\n",(0,a.jsx)(n.h3,{id:"package-dependencies",children:"Package Dependencies"}),"\n",(0,a.jsx)(n.p,{children:"Add framework and third-party dependencies:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-toml",children:'[dependencies]\n# Cedra Framework (required for most projects)\nCedraFramework = {\n    git = "https://github.com/cedra-labs/cedra-framework.git",\n    subdir = "cedra-framework",\n    rev = "mainnet"\n}\n\n# Local dependency\nMySharedLib = { local = "../shared-lib" }\n\n# Git dependency with specific branch\nThirdPartyLib = {\n    git = "https://github.com/example/lib.git",\n    rev = "feature-branch"\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Standard deployment:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cedra move publish --named-addresses my_project=default\n"})}),"\n",(0,a.jsx)(n.p,{children:"The CLI simulates first, showing gas costs before actual deployment. Confirm when prompted."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Deploy to different networks:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Initialize for specific network\ncedra init --network devnet    # For development\ncedra init --network testnet   # For testing\ncedra init --network mainnet   # For production\n\n# Deploy using specific profile\ncedra move publish --profile devnet --named-addresses my_project=default\n"})}),"\n",(0,a.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Upgrade your packages with ",(0,a.jsx)(n.a,{href:"/move-package-upgrades",children:"Move Package Upgrades"})]}),"\n",(0,a.jsxs)(n.li,{children:["If your package exceeds 64KB, see ",(0,a.jsx)(n.a,{href:"/large-packages",children:"Deploying Large Packages"})]}),"\n",(0,a.jsxs)(n.li,{children:["Learn Move syntax in ",(0,a.jsx)(n.a,{href:"/move/basics",children:"Move Programming"})]}),"\n",(0,a.jsxs)(n.li,{children:["Try the ",(0,a.jsx)(n.a,{href:"/getting-started/counter",children:"Counter Tutorial"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);