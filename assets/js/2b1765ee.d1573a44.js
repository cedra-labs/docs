"use strict";(self.webpackChunkcedra_docs=self.webpackChunkcedra_docs||[]).push([[8042],{8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var i=t(6540);const r={},a=i.createContext(r);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:n},e.children)}},8558:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/validator-identity-example-481ed443db8da2acb55bf6f469e99c04.png"},9196:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"nodes/validator-setup","title":"Validator Setup and Configuration","description":"This guide walks you through the complete journey of setting up a Cedra validator node for testnet participation. By following these steps, you\'ll transform your machine into a validator that helps secure the network and earn staking rewards.","source":"@site/docs/nodes/validator-setup.md","sourceDirName":"nodes","slug":"/nodes/validator-setup","permalink":"/nodes/validator-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/cedra-labs/docs/edit/main/docs/nodes/validator-setup.md","tags":[],"version":"current","frontMatter":{}}');var r=t(4848),a=t(8453);const o={},s="Validator Setup and Configuration",l={},d=[{value:"Install Cedra Node",id:"install-cedra-node",level:2},{value:"Create Your Validator&#39;s Home",id:"create-your-validators-home",level:2},{value:"Download Network Genesis Files",id:"download-network-genesis-files",level:2},{value:"Generate Your Validator Keys",id:"generate-your-validator-keys",level:2},{value:"Configure Your Validator for the Network",id:"configure-your-validator-for-the-network",level:2},{value:"Retrieve Your Validator Account Credentials",id:"retrieve-your-validator-account-credentials",level:2},{value:"Initialize Your Validator Owner Account",id:"initialize-your-validator-owner-account",level:2},{value:"Your Validator Journey Continues",id:"your-validator-journey-continues",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"validator-setup-and-configuration",children:"Validator Setup and Configuration"})}),"\n",(0,r.jsx)(n.p,{children:"This guide walks you through the complete journey of setting up a Cedra validator node for testnet participation. By following these steps, you'll transform your machine into a validator that helps secure the network and earn staking rewards."}),"\n",(0,r.jsx)(n.admonition,{title:"Testnet Only",type:"caution",children:(0,r.jsxs)(n.p,{children:["This guide is for ",(0,r.jsx)(n.strong,{children:"testnet participation only"}),". Mainnet validator requirements and procedures will differ significantly. Always use testnet tokens and never real funds."]})}),"\n",(0,r.jsx)(n.h2,{id:"install-cedra-node",children:"Install Cedra Node"}),"\n",(0,r.jsx)(n.p,{children:"Your validator journey begins with obtaining the Cedra Network source code. You'll clone the official repository and switch to the testnet branch where all the latest testnet features are available."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Clone the official Cedra Network repository to your local machine\ngit clone https://github.com/cedra-labs/cedra-network.git\n\n# Navigate into the newly cloned repository\ncd cedra-network\n\n# Switch to the testnet branch to access testnet-specific configurations\ngit checkout testnet\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," You now have the complete Cedra Network codebase on your machine, positioned on the testnet branch. This gives you access to all the tools needed to run a validator node."]}),"\n",(0,r.jsx)(n.h2,{id:"create-your-validators-home",children:"Create Your Validator's Home"}),"\n",(0,r.jsx)(n.p,{children:"Every validator needs a dedicated workspace to store its configuration files, keys, and state data. Let's create an organized directory structure that will house all your validator's essential files."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create the main network directory in the repository root\n# This will be your validator's primary workspace\nmkdir net\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now, let's organize your validator workspace with specific subdirectories:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Navigate into the net directory and create two essential subdirectories:\n# - v1: Will store your validator's keys and configuration\n# - genesis: Will contain the network's genesis state and waypoint\ncd net\nmkdir v1 genesis\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," You've created a clean, organized structure for your validator. The ",(0,r.jsx)(n.code,{children:"v1"})," directory will hold your unique validator identity, while ",(0,r.jsx)(n.code,{children:"genesis"})," will contain the network's initial state that all validators must agree upon."]}),"\n",(0,r.jsx)(n.h2,{id:"download-network-genesis-files",children:"Download Network Genesis Files"}),"\n",(0,r.jsx)(n.p,{children:"Every validator must start from the same network state to maintain consensus. You'll need to download two critical files that define the testnet's initial configuration."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Navigate to the genesis directory\ncd genesis\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now download these essential files:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/cedra-labs/cedra-networks/blob/main/testnet/genesis.blob",children:"genesis.blob"})," - Contains the initial network state"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/cedra-labs/cedra-networks/blob/main/testnet/waypoint.txt",children:"waypoint.txt"})," - Provides a trusted checkpoint for network synchronization"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Place both files in the ",(0,r.jsx)(n.code,{children:"net/genesis"})," directory."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," These files ensure your validator starts with the correct network state and can verify it's connecting to the legitimate Cedra testnet, preventing any potential network attacks."]}),"\n",(0,r.jsx)(n.h2,{id:"generate-your-validator-keys",children:"Generate Your Validator Keys"}),"\n",(0,r.jsx)(n.p,{children:"Finally, it's time to create your validator's unique identity. These cryptographic keys will identify your validator on the network and secure its operations."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Navigate to the v1 directory where your validator configuration will live\ncd ../v1\n\n# Generate your validator's unique cryptographic keys\n# This command uses Cargo to build and run the Cedra key generation tool\ncargo run --release -p cedra -- genesis generate-keys\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," This command generates several important cryptographic keys:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validator Identity Key"}),": Uniquely identifies your validator on the network"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consensus Key"}),": Used to participate in the consensus protocol"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Network Key"}),": Secures peer-to-peer communications with other validators"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These keys are the foundation of your validator's security and must be kept safe."}),"\n",(0,r.jsx)(n.h2,{id:"configure-your-validator-for-the-network",children:"Configure Your Validator for the Network"}),"\n",(0,r.jsx)(n.p,{children:"With your keys generated, it's time to register your validator's configuration with the network. This step defines how other nodes will connect to your validator and establishes your initial stake commitment."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Navigate to the genesis directory where network configurations are stored\ncd ../genesis\n\n# Register your validator configuration with the network\n# This command links your validator identity to network endpoints and stake amount\ncargo run --release -p cedra -- genesis set-validator-configuration \\\n  --username v1 \\\n  --owner-public-identity-file ../v1/public-keys.yaml \\\n  --validator-host <your-host>:<port> \\\n  --full-node-host <your-host>:<port> \\\n  --local-repository-dir . \\\n  --stake-amount <amount-in-octas>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example configuration for local testing:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Configure a validator with minimum stake (100,000 CEDRA = 10^13 octas)\n# Note: 1 CEDRA = 10^8 octas (smallest unit)\ncargo run --release -p cedra -- genesis set-validator-configuration \\\n  --username v1 \\\n  --owner-public-identity-file ../v1/public-keys.yaml \\\n  --validator-host localhost:6182 \\\n  --full-node-host localhost:6192 \\\n  --local-repository-dir . \\\n  --stake-amount 10000000000000\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"})," This command registers your validator with the network genesis, specifying:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Your validator's network endpoints for consensus and full node operations"}),"\n",(0,r.jsx)(n.li,{children:"Your initial stake amount (minimum 100,000 CEDRA for testnet)"}),"\n",(0,r.jsx)(n.li,{children:"Your public identity that other validators will recognize"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"retrieve-your-validator-account-credentials",children:"Retrieve Your Validator Account Credentials"}),"\n",(0,r.jsx)(n.p,{children:"Your validator has been configured, but you need to save its account credentials for future operations. These credentials will allow you to manage your validator and participate in staking."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Navigate back to your validator directory\ncd ../v1\n\n# Open the validator identity file to retrieve your account details\ncat validator-identity.yaml\n"})}),"\n",(0,r.jsx)(n.p,{children:"Look for and securely save these critical values:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"account_address"}),": Your validator's unique blockchain address"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"account_private_key"}),": The private key controlling your validator account"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Validator Identity File Example",src:t(8558).A+"",width:"730",height:"120"})}),"\n",(0,r.jsxs)(n.p,{children:["Example address: ",(0,r.jsx)(n.code,{children:"c8817e17ce3fabaacb695bbf6a3b600c6afbabf797960f29eaf8b88016a3f9d8"})]}),"\n",(0,r.jsx)(n.admonition,{title:"Security Notice",type:"caution",children:(0,r.jsx)(n.p,{children:"Your account_private_key is the master key to your validator. Store it securely and never share it. Anyone with this key can control your validator and its staked funds."})}),"\n",(0,r.jsx)(n.h2,{id:"initialize-your-validator-owner-account",children:"Initialize Your Validator Owner Account"}),"\n",(0,r.jsx)(n.p,{children:"Finally, you'll set up your local CLI to interact with your validator account. This creates a profile that allows you to manage your validator, stake tokens, and perform administrative tasks."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Initialize the Cedra CLI with your validator owner profile\n# You'll be prompted to select testnet and enter the private key from Step 6\ncedra init --profile owner\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What's happening:"}),' This command configures your local Cedra CLI with your validator credentials, creating a named profile called "owner". This profile will be your primary interface for:']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Managing your validator's stake"}),"\n",(0,r.jsx)(n.li,{children:"Monitoring validator performance"}),"\n",(0,r.jsx)(n.li,{children:"Executing administrative commands"}),"\n",(0,r.jsx)(n.li,{children:"Participating in network governance"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You can fund the validator owner account directly from the Cedra faucet:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl --location --request POST \\\n  \"https://faucet-api.cedra.dev/mint?amount=<AMOUNT>&auth_key=<AUTH_KEY>\" \\\n  --data ''\n"})}),"\n",(0,r.jsx)(n.p,{children:"Replace:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<AMOUNT>"}),": amount in octas (1 CEDRA = 10^8 octas). For example, 1 CEDRA = 100000000."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<AUTH_KEY>"}),": your account authentication key from the Cedra CLI profile initialized earlier (stored under your home directory in ",(0,r.jsx)(n.code,{children:".cedra"}),"). If you used the profile name ",(0,r.jsx)(n.code,{children:"owner"}),", look for it inside ",(0,r.jsx)(n.code,{children:"~/.cedra/"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Examples to locate your auth key (macOS/Linux):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# If you used profile "owner", inspect files under ~/.cedra\ngrep -R "auth_key" ~/.cedra 2>/dev/null | head -n 5\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"Funding Required",type:"info",children:(0,r.jsx)(n.p,{children:"Before proceeding to stake pool management, ensure your validator account is funded with at least 1 CEDRA plus your intended stake amount. This covers transaction fees and meets minimum staking requirements."})}),"\n",(0,r.jsx)(n.h2,{id:"your-validator-journey-continues",children:"Your Validator Journey Continues"}),"\n",(0,r.jsx)(n.p,{children:"Congratulations! You've successfully set up your validator node's foundation. Your validator now has:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 The Cedra Network codebase ready to run"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 A structured workspace for all validator files"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Network genesis files for consensus participation"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Unique cryptographic keys for secure operation"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Network configuration with your stake commitment"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 CLI access to manage your validator"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Your validator is configured but not yet active on the network. To complete your journey and start earning rewards, proceed to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"./stake-pool-management",children:"Stake Pool Management"})})," - Initialize your stake pool, delegate tokens, and officially join the validator set to begin securing the network"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);