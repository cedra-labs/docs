"use strict";(self.webpackChunkcedra_docs=self.webpackChunkcedra_docs||[]).push([[4416],{3372:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"sdks/rust/accounts","title":"Account Management","description":"Learn how Cedra accounts work and how to manage them effectively using the Rust SDK.","source":"@site/docs/sdks/rust/accounts.mdx","sourceDirName":"sdks/rust","slug":"/sdks/rust/accounts","permalink":"/sdks/rust/accounts","draft":false,"unlisted":false,"editUrl":"https://github.com/cedra-labs/docs/edit/main/docs/sdks/rust/accounts.mdx","tags":[],"version":"current","frontMatter":{"title":"Account Management","sidebar_label":"Accounts"},"sidebar":"docs","previous":{"title":"Rust SDK","permalink":"/sdks/rust-sdk"},"next":{"title":"Transactions","permalink":"/sdks/rust/transactions"}}');var c=t(4848),r=t(8453);const a={title:"Account Management",sidebar_label:"Accounts"},i="\ud83d\udd11 Account Management",o={},l=[{value:"What&#39;s in an Account?",id:"whats-in-an-account",level:3},{value:"\ud83c\udd95 Creating Your First Account",id:"-creating-your-first-account",level:3},{value:"\ud83d\udce5 Importing Existing Accounts",id:"-importing-existing-accounts",level:3},{value:"\ud83d\udcb0 Checking Balances",id:"-checking-balances",level:3},{value:"\ud83d\udd0d Querying Account Data",id:"-querying-account-data",level:3},{value:"\ud83d\ude80 Next Steps",id:"-next-steps",level:2},{value:"Continue Your Journey",id:"continue-your-journey",level:3},{value:"Practical Applications",id:"practical-applications",level:3},{value:"Deep Dive Topics",id:"deep-dive-topics",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"-account-management",children:"\ud83d\udd11 Account Management"})}),"\n",(0,c.jsx)(n.p,{children:"Learn how Cedra accounts work and how to manage them effectively using the Rust SDK."}),"\n",(0,c.jsx)(n.admonition,{title:"Navigation",type:"tip",children:(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"\ud83d\udccd You are here:"})," Account Management\n",(0,c.jsx)(n.strong,{children:"\u2b05\ufe0f Previous:"})," ",(0,c.jsx)(n.a,{href:"/sdks/rust-sdk",children:"Rust SDK Overview"}),"\n",(0,c.jsx)(n.strong,{children:"\u27a1\ufe0f Next:"})," ",(0,c.jsx)(n.a,{href:"/sdks/rust/transactions",children:"Transaction Guide"})]})}),"\n",(0,c.jsx)(n.h3,{id:"whats-in-an-account",children:"What's in an Account?"}),"\n",(0,c.jsx)(n.p,{children:"Every Cedra account on-chain contains:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Sequence Number"}),": Current transaction count (prevents replay attacks)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Authentication Key"}),": Used to verify transaction signatures"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Resources"}),": Data owned by the account (tokens, NFTs, etc.)"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Modules"}),": Smart contracts deployed by this account"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"-creating-your-first-account",children:"\ud83c\udd95 Creating Your First Account"}),"\n",(0,c.jsx)(n.p,{children:"Generating a new account is straightforward. Remember, this only creates the account locally - it won't exist on-chain until it receives tokens or sends a transaction."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'use anyhow::Result;\nuse cedra_sdk::types::LocalAccount;\nuse rand::rngs::OsRng;\n\n#[tokio::main]\nasync fn main() -> Result<()> {\n    // Generate a new ED25519 account (Cedra\'s signature scheme)\n    let account = LocalAccount::generate(&mut OsRng);\n\n    // The account now has:\n    // - A unique address (32 bytes)\n    // - A public/private keypair\n    // - But does NOT exist on-chain yet\n\n    println!("Address: 0x{}", account.address());\n    println!(\n        "Public Key: 0x{}",\n        hex::encode(account.public_key().to_bytes())\n    );\n\n    // Save the private key securely - you\'ll need it to import the account later\n    let private_key_bytes = account.private_key().to_bytes();\n    Ok(())\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"OsRng"})," uses your operating system's secure random number generator, ensuring cryptographically secure key generation. The generated account is completely offline - no network calls are made."]}),"\n",(0,c.jsxs)(n.p,{children:["Unlike Ethereum where accounts exist as soon as you generate a keypair, Cedra uses a ",(0,c.jsx)(n.strong,{children:"lazy initialization"})," model:"]}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Aspect"}),(0,c.jsx)(n.th,{children:"Ethereum (EVM)"}),(0,c.jsx)(n.th,{children:"Cedra"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Account Creation"})}),(0,c.jsx)(n.td,{children:"Exists immediately"}),(0,c.jsx)(n.td,{children:"Created on first transaction"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Address Format"})}),(0,c.jsx)(n.td,{children:"20 bytes (0x...)"}),(0,c.jsx)(n.td,{children:"32 bytes (0x...)"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Balance Before Funding"})}),(0,c.jsx)(n.td,{children:"Can be queried (returns 0)"}),(0,c.jsx)(n.td,{children:"Account doesn't exist"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"Key Algorithm"})}),(0,c.jsx)(n.td,{children:"ECDSA (secp256k1)"}),(0,c.jsx)(n.td,{children:"ED25519"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.strong,{children:"State Storage"})}),(0,c.jsx)(n.td,{children:"Global state tree"}),(0,c.jsx)(n.td,{children:"Resources owned by account"})]})]})]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Off-chain vs On-chain"}),": When you generate an account, it only exists in your local environment. The account is created on-chain when it receives its first transaction or tokens."]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Resources"}),': Unlike EVM\'s global state, Cedra accounts own their data as "resources". Think of resources as objects that belong to specific accounts - like having a personal vault instead of entries in a shared ledger.']}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"ED25519 Cryptography"}),": Cedra uses ED25519 for faster signature verification and smaller key sizes compared to Ethereum's ECDSA. This means better performance and lower transaction costs."]}),"\n",(0,c.jsx)(n.h3,{id:"-importing-existing-accounts",children:"\ud83d\udce5 Importing Existing Accounts"}),"\n",(0,c.jsx)(n.p,{children:"If you've previously created an account, you can reconstruct it from the private key:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'use anyhow::Result;\nuse cedra_sdk::types::LocalAccount;\n\n#[tokio::main]\nasync fn main() -> Result<()> {\n    // Your saved private key (hex string, 64 chars)\n    let private_key_hex = std::env::var("CEDRA_PRIVATE_KEY")?;\n\n    // Recreate the account directly from the private key hex string\n    let account = LocalAccount::from_private_key(&private_key_hex, 0)?;\n\n    println!("Restored address: 0x{}", account.address());\n    Ok(())\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["The second parameter (",(0,c.jsx)(n.code,{children:"0"}),") is the initial sequence number. For imported accounts, you typically start with 0, but if the account has already sent transactions, you'll need to fetch the current sequence number from the blockchain."]}),"\n",(0,c.jsx)(n.h3,{id:"-checking-balances",children:"\ud83d\udcb0 Checking Balances"}),"\n",(0,c.jsx)(n.p,{children:"Before checking balances, remember that the account must exist on-chain. Here's how to safely check balances and handle non-existent accounts:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'#[tokio::main]\nasync fn main() -> Result<()> {\n    let rest_client = Client::new(NODE_URL.clone());\n    let faucet_client = FaucetClient::new(FAUCET_URL.clone(), NODE_URL.clone());\n\n    let coin_client = CoinClient::new(&rest_client);\n    let bob = LocalAccount::generate(&mut rand::rngs::OsRng);\n\n    faucet_client\n        .create_account(bob.address())\n        .await\n        .context("Failed to fund Bob\'s account")?;\n    println!(\n        "Bob: {:?}",\n        coin_client\n            .get_account_balance(&bob.address())\n            .await\n            .context("Failed to get Bob\'s account balance")?\n    );\n    Ok(())\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["Each token type on Cedra requires a ",(0,c.jsx)(n.code,{children:"CoinStore"})," resource in the account. This resource is automatically created when the account first receives that token type. The native token (CED) uses the type ",(0,c.jsx)(n.code,{children:"0x1::cedra_coin::CedraCoin"}),"."]}),"\n",(0,c.jsx)(n.h3,{id:"-querying-account-data",children:"\ud83d\udd0d Querying Account Data"}),"\n",(0,c.jsx)(n.p,{children:"Get comprehensive information about an account's state:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-rust",children:'use anyhow::Result;\nuse cedra_sdk::{\n    rest_client::Client,\n    types::LocalAccount,\n};\nuse std::{str::FromStr, sync::LazyLock};\nuse url::Url;\n\nstatic NODE_URL: LazyLock<Url> = LazyLock::new(|| {\n    Url::from_str(\n        std::env::var("CEDRA_NODE_URL")\n            .as_ref()\n            .map(|s| s.as_str())\n            .unwrap_or("https://testnet.cedra.dev"),\n    )\n    .unwrap()\n});\n\n#[tokio::main]\nasync fn main() -> Result<()> {\n    let rest_client = Client::new(NODE_URL.clone());\n\n    let bob = LocalAccount::generate(&mut rand::rngs::OsRng);\n\n    let account_info = rest_client.get_account(bob.address()).await?;\n    println!("Account_info: {:?}", account_info);\n\n    // // Get all resources owned by the account\n    let resources = rest_client.get_account_resources(bob.address()).await?;\n    println!("Account owns {:?} resource types", resources);\n\n    Ok(())\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"The sequence number is crucial for transaction ordering - it must match exactly when submitting transactions. The authentication key can change if the account rotates its keys, but the address remains constant."}),"\n",(0,c.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\ude80 Next Steps"}),"\n",(0,c.jsx)(n.p,{children:"Now that you understand account management, expand your Cedra development skills:"}),"\n",(0,c.jsx)(n.h3,{id:"continue-your-journey",children:"Continue Your Journey"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/sdks/rust/transactions",children:"Transaction Guide"})})," - Learn to build, sign, and submit transactions"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/sdks/rust-sdk",children:"Rust SDK Overview"})})," - Review SDK installation and setup"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"practical-applications",children:"Practical Applications"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/getting-started/tx",children:"Your First Transaction"})})," - Send tokens between accounts"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/getting-started/counter",children:"Counter Contract Tutorial"})})," - Deploy your first smart contract"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/guides/first-fa",children:"Fungible Asset Guide"})})," - Create tokens with custom logic"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"deep-dive-topics",children:"Deep Dive Topics"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/move/resource",children:"Move Resource Model"})})," - Understand how accounts own resources"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/cli/usage",children:"CLI Account Commands"})})," - Manage accounts from the command line"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.a,{href:"/getting-started/faucet",children:"Faucet Guide"})})," - Fund your testnet accounts"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var s=t(6540);const c={},r=s.createContext(c);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);